// @observablehq/inputs v0.10.4 Copyright 2021 Observable, Inc.
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("htl@0.3.1/dist/htl.min.js")):"function"==typeof define&&define.amd?define(["exports","htl@0.3.1/dist/htl.min.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Inputs=e.Inputs||{},e.htl)}(this,(function(e,t){"use strict";if("undefined"!=typeof document&&!document.querySelector(".oi-ec050e")){const e=document.createElement("style");e.className="oi-ec050e",e.textContent=".oi-ec050e{--length1:3.25px;--length2:6.5px;--length3:13px;--label-width:120px;--input-width:240px;font:13px/1.2 var(--sans-serif)}form.oi-ec050e{display:flex;align-items:center;flex-wrap:wrap;min-height:25.5px}form.oi-ec050e>label{width:100%;padding-bottom:3px}form.oi-ec050e-toggle{flex-wrap:nowrap}form.oi-ec050e-toggle>label{align-self:start;padding:5px 0 4px 0;margin-right:var(--length2)}form.oi-ec050e-toggle .oi-ec050e-input,form.oi-ec050e-toggle>label{width:initial}@media only screen and (min-width:30em){form.oi-ec050e{flex-wrap:nowrap;width:calc(var(--input-width) + var(--label-width));max-width:100%}form.oi-ec050e>label{flex-shrink:0;align-self:start;padding:5px 0 4px 0;width:var(--label-width);margin-right:var(--length2)}}.oi-ec050e button,.oi-ec050e input,.oi-ec050e select,.oi-ec050e table,.oi-ec050e textarea{color:inherit;font:inherit;box-sizing:border-box}.oi-ec050e button,.oi-ec050e input{line-height:normal}.oi-ec050e>button:first-of-type{margin-left:0}.oi-ec050e-textarea{--input-width:520px}.oi-ec050e-textarea>div{width:100%;text-align:right}.oi-ec050e-textarea>div textarea{display:block;width:100%;margin:0;padding:4px;min-height:calc(2.5em + 8px);max-height:calc(14em + 8px);resize:vertical}.oi-ec050e-textarea>div button{margin:4px 0 0}.oi-ec050e input[type=checkbox],.oi-ec050e input[type=radio]{margin-right:var(--length2)}.oi-ec050e-input{display:flex;align-items:center;width:100%}.oi-ec050e-input>button,.oi-ec050e-input>input,.oi-ec050e-input>output{width:inherit;min-width:0}.oi-ec050e-input>button,.oi-ec050e-input>input[type=number],.oi-ec050e-input>output{flex-shrink:2.5}.oi-ec050e-input>output{white-space:pre;margin-left:var(--length2)}.oi-ec050e-input>button{margin-left:var(--length1)}.oi-ec050e-input>input[type=number]{font-variant-numeric:tabular-nums;flex-shrink:1.5;text-overflow:ellipsis}.oi-ec050e-input>input[type=color]~output{font-family:ui-monospace,var(--monospace)}.oi-ec050e-input:not(:only-child)>input[type=color]~output{flex-shrink:1}.oi-ec050e-input>input[type=range]{margin:0;margin-left:var(--length2)}.oi-ec050e-input>input[type=date],.oi-ec050e-input>input[type=datetime-local]{height:22px}form.oi-ec050e-checkbox{width:auto;max-width:640px}.oi-ec050e-checkbox div label{display:inline-flex;align-items:center;margin-right:var(--length3)}form.oi-ec050e-table{display:block;overflow-y:auto;margin:0 -14px;width:100%}.oi-ec050e-table table{max-width:initial;min-height:33px;margin:0;border-collapse:separate;border-spacing:0;font-variant-numeric:tabular-nums}.oi-ec050e-table tr:not(:last-child) td,.oi-ec050e-table tr:not(:last-child) th{border-bottom:solid 1px #eee}.oi-ec050e-table thead tr td,.oi-ec050e-table thead tr th{border-bottom:solid 1px #ccc}.oi-ec050e-table thead th span{display:inline-block;width:.5em;margin-left:-.5em}.oi-ec050e-table td,.oi-ec050e-table th{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:3px 6.5px 3px 0}.oi-ec050e-table tr>:not(:first-of-type){padding-left:var(--length2)}.oi-ec050e-table tr>:last-of-type{padding-right:var(--length3)}.oi-ec050e-table tr>:first-of-type{text-overflow:unset;width:19px}.oi-ec050e-table tr>:first-of-type input{opacity:0;margin:0 3px 1px 4px}.oi-ec050e-table tr:hover>:first-of-type input:enabled,.oi-ec050e-table tr>:first-of-type input:checked,.oi-ec050e-table tr>:first-of-type input:focus,.oi-ec050e-table tr>:first-of-type input[type=checkbox]:indeterminate{opacity:inherit}.oi-ec050e-table thead tr{border-bottom:none}.oi-ec050e-table thead th{position:sticky;top:0;background:#fff;cursor:ns-resize}.oi-ec050e-table tbody tr:first-child td{padding-top:4px}",document.head.appendChild(e)}function n(e){return null==e?null:"number"==typeof e?`${e}px`:`${e}`}function i(e){return{"--input-width":n(e)}}const o={bubbles:!0};function r(e){e.preventDefault()}function l({currentTarget:e}){(e.form||e).dispatchEvent(new Event("input",o))}function a(e){return e.checkValidity()}function u(e){return e}let c=0;function s(){return"oi-ec050e-"+ ++c}function f(e,n){if(e)return e=t.html`<label>${e}`,void 0!==n&&(e.htmlFor=n.id=s()),e}function d(e){return Array.isArray(e)?e:Array.from(e)}function p(e){return!!e&&"function"==typeof e[Symbol.iterator]}function h(e){return p(e.columns)?e.columns:e.schema&&p(e.schema.fields)?Array.from(e.schema.fields,(e=>e.name)):"function"==typeof e.columnNames?e.columnNames():void 0}function m(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return"function"==typeof t?t(e):t;const n=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getUTCSeconds(),r=e.getUTCMilliseconds();return`${l=e.getUTCFullYear(),l<0?`-${v(-l,6)}`:l>9999?`+${v(l,6)}`:v(l,4)}-${v(e.getUTCMonth()+1,2)}-${v(e.getUTCDate(),2)}${n||i||o||r?`T${v(n,2)}:${v(i,2)}${o||r?`:${v(o,2)}${r?`.${v(r,3)}`:""}`:""}Z`:""}`;var l}function v(e,t){return`${e}`.padStart(t,"0")}const b=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function y(e){return null==e?"":`${e}`}const $=A((e=>{const t=g(e);return e=>null==e?"":"number"==typeof e?t(e):e instanceof Date?N(e):`${e}`})),g=A((e=>t=>0===t?"0":t.toLocaleString(e))),x=$(),w=g();function k(e){const t=e.toString(),n=t.length;let i,o=-1;e:for(let e=1;e<n;++e)switch(t[e]){case".":o=i=e;break;case"0":0===o&&(o=e),i=e;break;default:if(!+t[e])break e;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(i+1):t}function N(e){return m(e,"Invalid Date")}function A(e){let t,n=A;return(i="en")=>i===n?t:t=e(n=i)}function S(e,t){return T(t)-T(e)||(e<t?-1:e>t?1:e>=t?0:NaN)}function O(e,t){return T(t)-T(e)||(t<e?-1:t>e?1:t>=e?0:NaN)}function T(e){return null!=e&&!Number.isNaN(e)}const j=([e])=>e,z=([,e])=>e;function M({multiple:e,render:t,selectedIndexes:n,select:i}){return function(o,{locale:a,keyof:c=(o instanceof Map?j:u),valueof:s=(o instanceof Map?z:u),format:f=(o instanceof Map?j:$(a)),multiple:p,key:h,value:m,disabled:v=!1,sort:b,unique:y,...g}={}){if("function"!=typeof c)throw new TypeError("keyof is not a function");if("function"!=typeof s)throw new TypeError("valueof is not a function");if("function"!=typeof f)throw new TypeError("format is not a function");void 0!==e&&(p=e),b=function(e){if(void 0===e||!1===e)return;if(!0===e||"ascending"===e)return S;if("descending"===e)return O;if("function"==typeof e)return e;throw new TypeError("sort is not a function")}(b);let x=+p;void 0===m&&(m=void 0!==h&&o instanceof Map?x>0?Array.from(h,(e=>o.get(e))):o.get(h):void 0),y=!!y;let w=(o=d(o)).map(((e,t)=>[c(e,t,o),t]));void 0!==b&&w.sort((([e],[t])=>b(e,t))),y&&(w=[...new Map(w.map((e=>[q(e[0]),e]))).values()]);const k=w.map(z);!0===p?x=Math.max(1,Math.min(10,k.length)):x>0?p=!0:(p=!1,x=void 0);const[N,A]=t(o,k,function(e,t,n,i,o){const r=new Set(void 0===n?[]:i?d(n):[n]);if(!r.size)return()=>!1;const l=new Set;for(const n of t)r.has(o(e[n],n,e))&&l.add(n);return e=>l.has(e)}(o,k,m,p,s),function(e,t,n,i){if("boolean"==typeof n)return n;const o=new Set(d(n)),r=new Set;for(const n of t)o.has(i(e[n],n,e))&&r.add(n);return e=>r.has(e)}(o,k,v,s),{...g,format:f,multiple:p,size:x});function T(e){if(e&&e.isTrusted&&(N.onchange=null),p)m=n(A).map((e=>s(o[e],e,o)));else{const e=function(e){return e.value?+e.value:-1}(A);m=e<0?null:s(o[e],e,o)}}return N.onchange=l,N.oninput=T,N.onsubmit=r,T(),Object.defineProperty(N,"value",{get:()=>m,set(e){if(p){const t=new Set(e);for(const e of A){const n=+e.value;i(e,t.has(s(o[n],n,o)))}}else A.value=k.find((t=>e===s(o[t],t,o)));T()}})}}function q(e){return null!==e&&"object"==typeof e?e.valueOf():e}function E(e,n){return M({multiple:e,render(i,o,r,l,{format:a,label:u}){const c=t.html`<form class="oi-ec050e oi-ec050e-checkbox">
      ${f(u)}<div>
        ${o.map((e=>t.html`<label><input type=${n} disabled=${"function"==typeof l?l(e):l} name=input value=${e} checked=${r(e)}>${a(i[e],e,i)}`))}
      </div>
    </form>`;return[c,P(c.elements.input,e)]},selectedIndexes:e=>Array.from(e).filter((e=>e.checked)).map((e=>+e.value)),select(e,t){e.checked=t}})}const _=E(!1,"radio"),C=E(!0,"checkbox");function P(e,t){return void 0===e?new D(t?[]:null):void 0===e.length?new(t?L:F)(e):e}class D{constructor(e){this._value=e}get value(){return this._value}set value(e){}*[Symbol.iterator](){}}class F{constructor(e){this._input=e}get value(){const{_input:e}=this;return e.checked?e.value:""}set value(e){const{_input:t}=this;t.checked||(t.checked=y(e)===t.value)}*[Symbol.iterator](){yield this._input}}class L{constructor(e){this._input=e,this._value=e.checked?[e.value]:[]}get value(){return this._value}set value(e){const{_input:t}=this;t.checked||(t.checked=y(e)===t.value,this._value=t.checked?[t.value]:[])}*[Symbol.iterator](){yield this._input}}function U(e){if(void 0===e)return[null,null];const n=s();return[t.html`<datalist id=${n}>${Array.from(e,(e=>t.html`<option value=${y(e)}>`))}`,n]}function I(e,n,i,{validate:o=a,submit:u}={},{get:c=(e=>e.value),set:s=((e,t)=>e.value=y(t)),same:f=((e,t)=>e.value===t),after:d=(e=>n.after(e))}={}){const p=(u=!0===u?"Submit":u||null)?t.html`<button type=submit disabled>${u}`:null;function h(){if(o(n))return i=c(n),!0}return u&&d(p),s(n,i),i=o(n)?c(n):void 0,e.onsubmit=function(e){r(e),u&&(h()?(p.disabled=!0,l(e)):n.reportValidity())},n.oninput=function(e){u?(p.disabled=f(n,i),e.stopPropagation()):h()||e.stopPropagation()},Object.defineProperty(e,"value",{get:()=>i,set(e){s(n,e),h()}})}function K({label:e,value:n="",type:o="text",placeholder:r,pattern:l,spellcheck:a,autocomplete:u,autocapitalize:c,min:s,max:d,minlength:p,maxlength:h,required:m=p>0,datalist:v,readonly:b,disabled:y,width:$,...g}={}){const[x,w]=U(v),k=t.html`<input
    type=${o}
    name=text
    list=${w}
    readonly=${b}
    disabled=${y}
    required=${m}
    min=${s}
    max=${d}
    minlength=${p}
    maxlength=${h}
    pattern=${l}
    spellcheck=${R(a)}
    autocomplete=${H(u)}
    autocapitalize=${H(c)}
    placeholder=${r}
  >`;return I(t.html`<form class=oi-ec050e style=${i($)}>
    ${f(e,k)}<div class=oi-ec050e-input>
      ${k}
    </div>${x}
  </form>`,k,n,g)}function R(e){return null==e?null:`${e}`}function H(e){return null==e?null:`${!1===e?"off":!0===e?"on":e}`}const V={type:"date",get:e=>e.valueAsDate,set:(e,t)=>e.value=B(t),same:(e,t)=>+e.valueAsDate==+t,format:B},W={type:"datetime-local",get:e=>e.value?new Date(e.value):null,set:(e,t)=>e.value=G(t),same:(e,t)=>+new Date(e.value)==+t,format:G};function Z({label:e,min:n,max:o,required:r,readonly:l,disabled:a,width:u,value:c,...s}={},{type:d,format:p,...h}){const m=t.html`<input type=${d} name=date readonly=${l} disabled=${a} required=${r} min=${p(n)} max=${p(o)}>`;return I(t.html`<form class=oi-ec050e style=${i(u)}>
    ${f(e,m)}<div class=oi-ec050e-input>
      ${m}
    </div>
  </form>`,m,Y(c),s,h)}function Y(e){return e instanceof Date&&!isNaN(e)?e:"string"==typeof e?(t=e,n=null,b.test(t+="")?new Date(t):"function"==typeof n?n(t):n):null==e||isNaN(e=+e)?null:new Date(+e);var t,n}function B(e){return(e=Y(e))?e.toISOString().slice(0,10):e}function G(e){return(e=Y(e))?e.toISOString().slice(0,16):e}function J(e){return t.html`<div>${e}`}function Q(e,{template:t=J}={}){let n=(e=[...e]).map((({value:e})=>e));return Object.defineProperty(t(e),"value",{get(){for(let t=0,i=e.length;t<i;++t){const i=e[t].value;Object.is(i,n[t])||(n=[...n],n[t]=i)}return n},set(t=[]){for(let n=0,i=e.length;n<i;++n)e[n].value=t[n]}})}function X(e){return t.html`<div>${Object.values(e)}`}function ee(e,{template:t=X}={}){e={...e};let n=Object.fromEntries(Object.entries(e).map((([e,{value:t}])=>[e,t])));return Object.defineProperty(t(e),"value",{get(){for(const t in n){const i=e[t].value;Object.is(i,n[t])||(n={...n},n[t]=i)}return n},set(t={}){for(const n in e)e[n].value=t[n]}})}const te=1e-6;function ne({extent:[e,n],range:o},{format:l=k,transform:c,invert:s,label:d="",value:p,step:h,disabled:m,placeholder:v,validate:b=a,width:y}={}){let $;if("function"!=typeof l)throw new TypeError("format is not a function");(null==e||isNaN(e=+e))&&(e=-1/0),(null==n||isNaN(n=+n))&&(n=1/0),e>n&&([e,n]=[n,e],void 0===c&&(c=ie)),void 0!==h&&(h=+h);const g=t.html`<input type=number min=${isFinite(e)?e:null} max=${isFinite(n)?n:null} step=${null==h?"any":h} name=number required placeholder=${v} oninput=${function(e){const t=A(g.valueAsNumber);if(isFinite(t)&&(o&&(o.valueAsNumber=c(t)),b(g)))return void($=t);e&&e.stopPropagation()}} disabled=${m}>`;let x;if(o){if(void 0===c&&(c=u),"function"!=typeof c)throw new TypeError("transform is not a function");if(void 0===s&&(s=void 0===c.invert?(w=c)===u||w===ie?w:w===Math.sqrt?oe:w===Math.log?Math.exp:w===Math.exp?Math.log:e=>function(e,t,n){let i,o,r,l=100;n=void 0===n?0:+n,t=+t;do{o=e(n),r=e(n+te),o===r&&(r=o+te),n-=i=-1e-6*(o-t)/(o-r)}while(l-- >0&&Math.abs(i)>te);return l<0?NaN:n}(w,e,e):c.invert),"function"!=typeof s)throw new TypeError("invert is not a function");let i=+c(e),r=+c(n);i>r&&([i,r]=[r,i]),o=t.html`<input type=range min=${isFinite(i)?i:null} max=${isFinite(r)?r:null} step=${void 0===h||c!==u&&c!==ie?"any":h} name=range oninput=${function(t){const i=A(s(o.valueAsNumber));if(isFinite(i)&&(g.valueAsNumber=Math.max(e,Math.min(n,i)),b(g)))return $=g.valueAsNumber,void(g.value=l($));t&&t.stopPropagation()}} disabled=${m}>`,x=c===u?o:t.html`<input type=range min=${e} max=${n} step=${void 0===h?"any":h} name=range disabled=${m}>`}else o=null,c=s=u;var w;const N=t.html`<form class=oi-ec050e onsubmit=${r} style=${i(y)}>
    ${f(d,g)}<div class=oi-ec050e-input>
      ${g}${o}
    </div>
  </form>`;function A(t){return x?(t=Math.max(e,Math.min(n,t)),isFinite(t)?(x.valueAsNumber=t,x.valueAsNumber):t):+t}return Object.defineProperty(N,"value",{get:()=>$,set(e){e=A(e),isFinite(e)&&(g.valueAsNumber=e,o&&(o.valueAsNumber=c(e)),b(g)&&($=e,g.value=l($)))}}),void 0===p&&x&&(p=x.valueAsNumber),void 0!==p&&(N.value=p),N}function ie(e){return-e}function oe(e){return e*e}function re(e){const t=`${e}`.split(/\s+/g).filter((e=>e)).map(ue);return e=>{if(null==e)return!1;if("object"==typeof e)e:for(const n of t){for(const t of ae(e))if(n.test(t))continue e;return!1}else for(const n of t)if(!n.test(e))return!1;return!0}}function le(e){return t=>{const n=`${t}`.split(/\s+/g).filter((e=>e)).map(ue);return t=>{e:for(const i of n){for(const n of e)if(i.test(t[n]))continue e;return!1}return!0}}}function*ae(e){for(const t in e)yield e[t]}function ue(e){return new RegExp(`\\b${function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e)}`,"i")}const ce=A((e=>{const t=g(e);return e=>`${t(e)} result${1===e?"":"s"}`})),se=M({render(e,n,o,r,{format:l,multiple:a,size:u,label:c,width:s}){const d=t.html`<select class=oi-ec050e-input disabled=${!0===r} multiple=${a} size=${u} name=input>
      ${n.map((n=>t.html`<option value=${n} disabled=${"function"==typeof r&&r(n)} selected=${o(n)}>${y(l(e[n],n,e))}`))}
    </select>`;return[t.html`<form class=oi-ec050e style=${i(s)}>${f(c,d)}${d}`,d]},selectedIndexes:e=>Array.from(e.selectedOptions,(e=>+e.value)),select(e,t){e.selected=t}}),fe=22;function de({root:e,id:i},o,{columns:r=h(o),value:l,required:a=!0,sort:c,reverse:s=!1,format:f,locale:p,align:m,header:v,rows:b=11.5,width:y={},multiple:x=!0,layout:w}={}){r=void 0===r?function(e){const t=new Set;for(const n of e)for(const e in n)t.add(e);return Array.from(t)}(o):d(r),void 0===w&&(w=r.length>=12?"auto":"fixed"),f=function(e={},t,n,i){const o=Object.create(null);for(const r of n)if(r in e)o[r]=e[r];else switch(me(t,r)){case"number":o[r]=g(i);break;case"date":o[r]=N;break;default:o[r]=$(i)}return o}(f,o,r,p),m=function(e={},t,n){const i=Object.create(null);for(const o of n)o in e?i[o]=e[o]:"number"===me(t,o)&&(i[o]="right");return i}(m,o,r);let k=[],A=[],j=o[Symbol.iterator](),z=0,M=function(e){if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("function"==typeof e.numRows)return e.numRows()}(o),q=_(2*b);function E(){z>=0&&(z=j=void 0,A=Uint32Array.from(k=d(o),((e,t)=>t)),M=A.length)}function _(e){if(e=Math.floor(e),void 0!==M)return Math.min(M,e);if(e<=z)return e;for(;e>z;){const{done:e,value:t}=j.next();if(e)return M=z;A.push(z++),k.push(t)}return z}let C=null,P=!1,D=new Set,F=null,L=null;const U=t.html`<tbody>`,I=t.html`<tr><td><input type=${x?"checkbox":"radio"} name=${x?null:"radio"}></td>${r.map((()=>t.html`<td>`))}`,K=t.html`<tr><th><input type=checkbox onclick=${function(e){if(E(),this.checked){D=new Set(A);for(const e of U.childNodes)pe(e).checked=!0}else{for(let e of D)V(e);F=L=null,e.detail&&e.currentTarget.blur()}G()}} disabled=${!x}></th>${r.map((e=>t.html`<th title=${e} onclick=${t=>B(t,e)}><span></span>${v&&e in v?v[e]:e}</th>`))}</tr>`;function R(e,t){if(z===e){for(;e<t;++e)H(j.next().value,e);z=t}else for(let n;e<t;++e)n=A[e],H(k[n],n)}function H(e,t){const n=I.cloneNode(!0),i=pe(n);if(i.onclick=Y,i.checked=D.has(t),i.value=t,null!=e)for(let i=0;i<r.length;++i){let l=r[i],a=e[l];T(a)&&(a=f[l](a,t,o),a instanceof Node||(a=document.createTextNode(a)),n.childNodes[i+1].appendChild(a))}U.append(n)}function V(e){E();let t=A.indexOf(e);if(t<U.childNodes.length){pe(U.childNodes[t]).checked=!1}D.delete(e)}function W(e){E();let t=A.indexOf(e);if(t<U.childNodes.length){pe(U.childNodes[t]).checked=!0}D.add(e)}function*Z(e,t){if(E(),(e=A.indexOf(e))<(t=A.indexOf(t)))for(;e<=t;)yield A[e++];else for(;t<=e;)yield A[t++]}function Y(e){E();let t=+this.value;if(x)if(e.shiftKey){if(null===F)F=D.size?function(e){return e[Symbol.iterator]().next().value}(D):A[0];else for(let e of Z(F,L))V(e);L=t;for(let e of Z(F,L))W(e)}else F=L=t,D.has(t)?(V(t),F=L=null,e.detail&&e.currentTarget.blur()):W(t);else{for(let e of D)V(e);W(t)}G()}function B(t,n){E();const i=t.currentTarget;let o;if(C===i&&t.metaKey)he(C).textContent="",C=null,P=!1,o=S;else{C===i?P=!P:(C&&(he(C).textContent=""),C=i,P=t.altKey);const e=P?O:S;o=(t,i)=>e(k[t][n],k[i][n]),he(i).textContent=P?"▾":"▴"}for(A.sort(o),D=new Set(Array.from(D).sort(o)),e.scrollTo(e.scrollLeft,0);U.firstChild;)U.firstChild.remove();R(0,q=_(2*b)),F=L=null,G()}function G(){const e=pe(K);e.disabled=!x&&!D.size,e.indeterminate=x&&D.size&&D.size!==M,e.checked=D.size,l=void 0}if(e.appendChild(t.html.fragment`<table style=${{tableLayout:w}}>
  <thead>${_(1)||r.length?K:null}</thead>
  ${U}
</table>
<style>${r.map(((e,t)=>{const o=[];if(null!=m[e]&&o.push(`text-align:${m[e]}`),null!=y[e]&&o.push(`width:${n(y[e])}`),o.length)return`#${i} tr>:nth-child(${t+2}){${o.join(";")}}`})).filter(u).join("\n")}</style>`),e.onscroll=()=>{e.scrollHeight-e.scrollTop<b*fe*1.5&&q<_(q+1)&&R(q,q=_(q+b))},void 0===c&&s&&(E(),A.reverse()),void 0!==l){if(E(),x){const e=new Set(l);D=new Set(A.filter((t=>e.has(k[t]))))}else{const e=k.indexOf(l);D=e<0?new Set:new Set([e])}G()}if(_(1)?R(0,q):U.append(t.html`<tr>${r.length?t.html`<td>`:null}<td rowspan=${r.length} style="padding-left: var(--length3); font-style: italic;">No results.</td></tr>`),void 0!==c){let e=r.indexOf(c);e>=0&&(s&&(C=K.childNodes[e+1]),B({currentTarget:K.childNodes[e+1]},r[e]))}return Object.defineProperty(e,"value",{get(){if(void 0===l)if(E(),x)(l=Array.from(a&&0===D.size?A:D,(e=>k[e]))).columns=r;else if(D.size){const[e]=D;l=k[e]}else l=null;return l},set(e){if(E(),x){const t=new Set(e),n=new Set(A.filter((e=>t.has(k[e]))));for(const e of D)n.has(e)||V(e);for(const e of n)D.has(e)||W(e)}else{const t=k.indexOf(e);D=t<0?new Set:new Set([t])}l=void 0}})}function pe(e){return e.firstChild.firstChild}function he(e){return e.firstChild}function me(e,t){for(const n of e){if(null==n)continue;const e=n[t];if(null!=e)return"number"==typeof e?"number":e instanceof Date?"date":void 0}}function ve(e){return new Promise((t=>{requestAnimationFrame((()=>{const n=e.closest(".observablehq");if(!n)return t();const i=new MutationObserver((()=>{n.contains(e)||(i.disconnect(),t())}));i.observe(n,{childList:!0})}))}))}function be(e,t){const n=function(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}(t);switch(e.type){case"range":case"number":e.valueAsNumber=n;break;case"date":e.valueAsDate=n;break;case"checkbox":e.checked=n;break;case"file":e.multiple?e.files=n:e.files=[n];break;default:e.value=n}}function ye(e){switch(e.type){case"button":case"submit":return"click";case"file":return"change";default:return"input"}}e.bind=function(e,t,n=ve(e)){const i=ye(t),r=()=>be(e,t);return r(),e.addEventListener(ye(e),(()=>(be(t,e),t.dispatchEvent(new Event(i,o))))),t.addEventListener(i,r),n.then((()=>t.removeEventListener(i,r))),e},e.button=function(e="≡",{label:i="",value:o,reduce:a,disabled:c,required:s=!1,width:d}={}){const p="string"==typeof e||e instanceof Node;p?(s||void 0!==o||(o=0),void 0===a&&(a=(e=0)=>e+1),c=new Set(c?[e]:[]),e=[[e,a]]):(s||void 0!==o||(o=null),c=new Set(!0===c?Array.from(e,(([e])=>e)):c||void 0));const h=t.html`<form class=oi-ec050e onsubmit=${r}>`,m={width:n(d)},v=Array.from(e,(([e,n=u])=>{if("function"!=typeof n)throw new TypeError("reduce is not a function");return t.html`<button disabled=${c.has(e)} style=${m} onclick=${e=>{h.value=n(h.value),l(e)}}>${e}`}));return(i=f(i,p?v[0]:void 0))&&h.append(i),h.append(...v),h.value=o,h},e.checkbox=C,e.color=function({label:e,value:n,required:o,datalist:r,readonly:l,disabled:a,width:u,...c}={}){const[d,p]=U(r),h=s(),m=t.html`<input
    type=color
    name=text
    value=${n}
    id=${h}
    list=${p}
    readonly=${l}
    disabled=${a}
    required=${o}
  >`,v=t.html`<output
    for=${h}
  >`;return v.value=m.value,m.addEventListener("input",(()=>v.value=m.value)),I(t.html`<form class=oi-ec050e style=${i(u)}>
    ${f(e,m)}<div class=oi-ec050e-input>
      <div class=oi-ec050e-input>${m}${v}</div>
    </div>${d}
  </form>`,m,n,c,{after:e=>m.parentNode.after(e)})},e.date=function(e){return Z(e,V)},e.datetime=function(e){return Z(e,W)},e.disposal=ve,e.email=function(e){return K({...e,type:"email"})},e.fileOf=function(e){class n extends e{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=URL.createObjectURL(this._))}async blob(){return this._}async stream(){return this._.stream()}}return function({label:e,required:o,accept:r,capture:l,multiple:a,disabled:u,width:c,value:s,submit:d,...p}={}){const h=t.html`<input
      type=file
      name=file
      disabled=${u}
      required=${o}
      accept=${r}
      capture=${l}
      multiple=${a}
    >`;return I(t.html`<form class=oi-ec050e style=${i(c)}>
      ${f(e,h)}<div class=oi-ec050e-input>
        ${h}
      </div>
    </form>`,h,void 0,p,{get:e=>a?Array.from(e.files,(e=>new n(e))):e.files.length?new n(e.files[0]):null,set:()=>{},same:()=>!1})}},e.form=function(e,t){return(Array.isArray(e)?Q:ee)(e,t)},e.formatAuto=x,e.formatDate=N,e.formatLocaleAuto=$,e.formatLocaleNumber=g,e.formatNumber=w,e.formatTrim=k,e.input=function(e){const t=new EventTarget;return t.value=e,t},e.number=function(e,t){return arguments.length<2&&(t=e,e=void 0),void 0===e&&(e=[]),ne({extent:e},t)},e.password=function(e){return K({...e,type:"password"})},e.radio=_,e.range=function(e=[0,1],t){return ne({extent:e,range:!0},t)},e.search=function(e,{locale:n,format:o=ce(n),label:l,query:a="",placeholder:u="Search",columns:c=h(e),spellcheck:s,autocomplete:p,autocapitalize:m,filter:v=(void 0===c?re:le(c)),datalist:b,disabled:$,required:g=!0,width:x}={}){let w=[];e=d(e),g=!!g;const[k,N]=U(b),A=t.html`<input
    name=input
    type=search
    list=${N}
    disabled=${$}
    spellcheck=${R(s)}
    autocomplete=${H(p)}
    autocapitalize=${H(m)}
    placeholder=${u}
    value=${a}
    oninput=${T}
  >`,S=t.html`<output name=output>`,O=t.html`<form class=oi-ec050e onsubmit=${r} style=${i(x)}>
    ${f(l,A)}<div class=oi-ec050e-input>
      ${A}${S}
    </div>${k}
  </form>`;function T(){w=A.value||g?e.filter(v(A.value)):[],void 0!==c&&(w.columns=c),S.value=o(w.length)}return T(),Object.defineProperties(O,{value:{get:()=>w},query:{get:()=>a,set(e){a=A.value=y(e),T()}}})},e.searchFilter=re,e.select=se,e.table=function(e,i={}){const{rows:o=11.5,height:r,maxHeight:l=(void 0===r?(o+1)*fe-1:void 0),width:a={},maxWidth:u}=i,c=s(),f=t.html`<form class="oi-ec050e oi-ec050e-table" id=${c} style=${{height:n(r),maxHeight:n(l),width:"string"==typeof a||"number"==typeof a?n(a):void 0,maxWidth:n(u)}}>`;return e&&"function"==typeof e.then?(Object.defineProperty(f,"value",{configurable:!0,set(){throw new Error("cannot set value while data is unresolved")}}),Promise.resolve(e).then((e=>de({root:f,id:c},e,i)))):de({root:f,id:c},e,i),f},e.tel=function(e){return K({...e,type:"tel"})},e.text=K,e.textarea=function({value:e="",label:n,placeholder:o,spellcheck:r,autocomplete:l,autocapitalize:a,rows:u=3,minlength:c,maxlength:s,required:d=c>0,readonly:p,disabled:h,monospace:m=!1,resize:v=u<12,width:b,...y}={}){const $=t.html`<textarea
    name=text
    readonly=${p}
    disabled=${h}
    required=${d}
    rows=${u}
    minlength=${c}
    maxlength=${s}
    spellcheck=${R(r)}
    autocomplete=${H(l)}
    autocapitalize=${H(a)}
    placeholder=${o}
    onkeydown=${function(e){if(y.submit&&"Enter"===e.key&&(e.metaKey||e.ctrlKey))return g.onsubmit(e)}}
    style=${{width:b,fontFamily:m?"var(--monospace, monospace)":null,resize:v?null:"none"}}
  >`,g=t.html`<form class="oi-ec050e oi-ec050e-textarea" style=${i(b)}>
    ${f(n,$)}<div>
      ${$}
    </div>
  </form>`;return I(g,$,e,y)},e.toggle=function({label:e,value:n,values:i,disabled:o}={}){const r=t.html`<input class=oi-ec050e-input type=checkbox name=input disabled=${o}>`,l=t.html`<form class="oi-ec050e oi-ec050e-toggle">${f(e,r)}${r}`;return Object.defineProperty(l,"value",{get:()=>void 0===i?r.checked:i[r.checked?0:1],set(e){r.checked=void 0===i?!!e:e===i[0]}}),void 0!==n&&(l.value=n),l},e.url=function(e){return K({...e,type:"url"})},e.version="0.10.4",Object.defineProperty(e,"__esModule",{value:!0})}));
